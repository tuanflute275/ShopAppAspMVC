@{
    ViewData["Title"] = "Home Page";
}

<main>
    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselId" data-slide-to="0" class="active"></li>
            <li data-target="#carouselId" data-slide-to="1"></li>
            <li data-target="#carouselId" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="~/images/carousel1.jpg" class="d-block w-100"
                     alt="image-carousel" />
                <div class="carousel-caption-custom d-none d-md-block text-body">
                    <h2 class="carousel-header heading mt-5">Đại Khuyến Mãi - Hàng Mới Về.</h2>
                    <p>Giảm 20% cho Thành Viên EDON.</p>
                    <button asp-area="" asp-controller="Shop" asp-action="Index" class="text-white btn-carousel">
                        MUA NGAY
                    </button>
                </div>
            </div>
            <div class="carousel-item">
                <img src="~/images/carousel2.jpg" class="d-block w-100"
                     alt="image-carousel" />
                <div class="carousel-caption-custom d-none d-md-block text-body">
                    <h2 class="carousel-header heading mt-5">Xu Hướng thời trang 2024</h2>
                    <p>Giảm 20% cho Thành Viên EDON.</p>
                    <button asp-area="" asp-controller="Shop" asp-action="Index" class="text-white btn-carousel">
                        MUA NGAY
                    </button>
                </div>
            </div>
            <div class="carousel-item">
                <img src="~/images/carousel3.jpg" class="d-block w-100"
                     alt="image-carousel" />
                <div class="carousel-caption-custom d-none d-md-block text-body">
                    <h2 class="carousel-header heading mt-5">Cây Cảnh - Lựa Chọn Tuyệt Vời.</h2>
                    <p>Giảm 20% cho Thành Viên EDON.</p>
                    <button asp-area="" asp-controller="Shop" asp-action="Index" class="text-white btn-carousel">
                        MUA NGAY
                    </button>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" type="button" data-target="#carouselExampleCaptions" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" type="button" data-target="#carouselExampleCaptions" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="container my-5">
        <div class="row">
            <div class="col-md-5">
                <img src="https://tuanflute-techwiz2023.vercel.app/assets/images/home-subBanner.jpg" alt="anh" width="325px" height="438px" />
            </div>
            <div class="col-md-7 title">
                <h6 class="text-success">CHÀO MỪNG ĐẾN VỚI CỬA HÀNG CỦA CHÚNG TÔI</h6>
                <h2>Lịch sử của cửa hàng</h2>
                <p>
                    Chào mừng bạn đến với Cửa Hàng EDON, nơi bạn có thể tìm thấy mọi thứ cần thiết
                    để làm cho ngôi nhà của bạn thêm phần tươi đẹp. Chúng tôi cung cấp đa dạng sản phẩm,
                    bao gồm cây xanh, cây cảnh, đồ trang trí và nhiều hơn nữa. Tất cả sản phẩm của chúng tôi
                    đều được chọn lọc kỹ lưỡng để mang đến chất lượng và giá cả tốt nhất cho khách hàng.
                </p>
                <p>
                    Chúng tôi hiểu rằng việc trang trí không gian sống có thể là một nhiệm vụ khó khăn,
                    vì vậy chúng tôi luôn sẵn sàng hỗ trợ bạn. Đội ngũ nhân viên của chúng tôi luôn vui vẻ
                    tư vấn cho bạn những sản phẩm phù hợp nhất với nhu cầu và sở thích của bạn.
                    Chúng tôi cũng cung cấp dịch vụ giao hàng và lắp đặt miễn phí, giúp bạn hoàn toàn
                    yên tâm khi mua sắm tại Cửa Hàng EDON.
                </p>
                <img class="my-4" src="https://tuanflute-techwiz2023.vercel.app/assets/images/signature.jpg" alt="anh" />
                <p>
                    <span style="font-weight: 600">TUANFLUTE275</span>
                    - CEO EDON
                </p>
            </div>
        </div>
        <hr />
    </div>

    <div class="container">
        <h2 class="text-center my-5">Sản phẩm mới nhất</h2>
        <div class="card-category-4 row justify-content-center align-items-center owl-carousel owl-theme">
            @foreach (var item in ViewBag.NewProducts)
            {
                <div class="col-md-12 my-4 item">
                    <div class="sp-card-2">
                        <div class="overlap">
                            <a asp-area="" asp-controller="Shop" asp-action="Details" asp-route-slug="@item.Slug" style="cursor: pointer;" title="View Details">
                                View
                                Details
                            </a>
                        </div>
                        <div class="card-image">
                            <img src="@(Url.Content("~/Uploads/products/" + item.ProductImage))" alt="@item.ProductName" style="object-fit:contain;" />
                        </div>

                        <div class="card-content">
                            @{
                                var proName = item.ProductName;
                                var truncated = proName.Length > 25
                                ? proName.Substring(0, 20) + "..."
                                : proName;
                            }
                            <span class="card-title">@truncated</span>
                            @if (item.ProductSalePrice > 0)
                            {
                                <div class="d-flex my-2">
                                    <p class="price-start">
                                        @String.Format("{0:#,0} VND", item.ProductSalePrice)
                                    </p>
                                    <p class="price-end"
                                       style="text-decoration: line-through;color: #ccc; font-size: 12px;margin-left: 6px;font-weight: 700;">
                                        @String.Format("{0:#,0} VND", item.ProductPrice)
                                    </p>
                                </div>
                            }
                            @if (item.ProductSalePrice == 0)
                            {
                                <div class="d-flex my-2">
                                    <span class="price-start">
                                        @String.Format("{0:#,0} VND", item.ProductPrice)
                                    </span>
                                </div>
                            }
                            <button class="btn text-white" style="background: #79a206;">Mua ngay</button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>



    <div class="container">
        <h2 class="text-center heading py-5">Khách hàng của chúng tôi nói gì?</h2>
        <div class="main text-center">
            <img src="~/icon/testimonial1.jpg" alt="anh" class="my-4" />
            <p style="font-weight: 500">Rebecka Filson/CEO of CSC</p>
            <p class="verse">
                “ Khi một thiết kế đẹp được kết hợp với công nghệ mạnh mẽ,
                <br />
                nó thực sự là một tác phẩm nghệ thuật Tôi thích cách trang web của tôi hoạt động và trông như thế nào với chủ đề này. Cảm ơn bạn vì sản phẩm tuyệt vời.  ”
            </p>
            <img src="~/icon/testimonials-icon.jpg" alt="anh" class="my-5" />
        </div>
    </div>

    <div class="container">
        <h2 class="text-center my-5">Sản phẩm đang được giảm giá</h2>
        <div class="card-category-4 row justify-content-center align-items-center owl-carousel owl-theme">
            @foreach (var item in ViewBag.SaleProducts)
            {
                <div class="col-md-12 my-4 item">
                    <div class="sp-card-2">
                        <div class="overlap">
                            <a asp-area="" asp-controller="Shop" asp-action="Details" asp-route-slug="@item.Slug" style="cursor: pointer;" title="View Details">
                                View
                                Details
                            </a>
                        </div>
                        <div class="card-image">
                            <img src="@(Url.Content("~/Uploads/products/" + item.ProductImage))" alt="@item.ProductName" style="object-fit:contain;" />
                        </div>

                        <div class="card-content">
                            @{
                                var proName = item.ProductName;
                                var truncated = proName.Length > 25
                                ? proName.Substring(0, 20) + "..."
                                : proName;
                            }
                            <span class="card-title">@truncated</span>
                            @if (item.ProductSalePrice > 0)
                            {
                                <div class="d-flex my-2">
                                    <p class="price-start">
                                        @String.Format("{0:#,0} VND", item.ProductSalePrice)
                                    </p>
                                    <p class="price-end"
                                       style="text-decoration: line-through;color: #ccc; font-size: 12px;margin-left: 6px;font-weight: 700;">
                                        @String.Format("{0:#,0} VND", item.ProductPrice)
                                    </p>
                                </div>
                            }
                            @if (item.ProductSalePrice == 0)
                            {
                                <div class="d-flex my-2">
                                    <span class="price-start">
                                        @String.Format("{0:#,0} VND", item.ProductPrice)
                                    </span>
                                </div>
                            }
                            <button class="btn text-white" style="background: #79a206;">Mua ngay</button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="container-fluid section my-5">
        <h2 class="text-center heading py-5">Bài viết mới nhất của chúng tôi</h2>
        <div class="container">
            <div class="row justify-content-center align-items-center">
                @foreach (var blog in ViewBag.Blogs)
                {
                    <div class="col-md-4">
                        <a asp-area="" asp-controller="Home" asp-action="BlogDetails" asp-route-slug="@blog.Slug">
                            <img src="@(Url.Content("~/Uploads/blogs/" + blog.BlogImage))" alt="@blog.BlogImage" width="100%" />
                        </a>
                        <h5 class="pt-4">@blog.BlogName</h5>
                        <p>
                            By
                            <span style="color: #79a206">@blog.CreateBy/ @blog.CreateDate.ToString(string.Format("dd/MM/yyyy"))</span>
                        </p>
                        @{
                            var description = blog.BlogDescription;
                            var truncatedDescription = description.Length > 50
                            ? description.Substring(0, 195) + "..."
                            : description;
                        }

                        <p>
                            @Html.Raw(truncatedDescription)
                        </p>
                    </div>
                }
            </div>
        </div>
        <div class="container-fluid p-0 m-0 row justify-content-center mt-4">
            <a class="button-more" style="text-decoration: none; color: #fff;" asp-area="" asp-controller="Home" asp-action="Blog">Xem thêm</a>
        </div>
    </div>
</main>
@section Scripts {
    <script>
        $('.owl-carousel').owlCarousel({
            loop: true,
            margin: 10,
            nav: false,
            autoplay: true,
            dots: false,
            autoplayTimeout: 1500,
            autoplayHoverPause: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 2
                },
                1000: {
                    items: 4
                }
            }
        })
    </script>
}
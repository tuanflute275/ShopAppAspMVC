@model IEnumerable<ShopApp.Data.Cart>
@{
}

<main>
    <div class="text-center box-title">
        <h3 class="title">Giỏ hàng</h3>
        <nav class="breadcrumb text-center d-flex justify-content-center">
            <a class="breadcrumb-item default" asp-area="" asp-controller="Home" asp-action="Index">Trang chủ</a>
            <span class="breadcrumb-item active">Giỏ hàng</span>
        </nav>
        <div class="container"></div>
    </div>
    <div class="container mt-3">
        <div class="row">
            <div class="col-md-8 col-sm-12">
                <div class="cart-product-list">
                    <div class="cart-product-list-heading my-4">Giỏ hàng</div>
                    <div class="cart-product-list-main">
                        @if(Model.Count() == 0)
                        {
                            <div class="alert alert-danger" role="alert">
                                Không có sản phẩm nào để hiển thị !
                            </div>
                        }
                        else
                        {
                            @foreach(var item in Model)
                            {
                                <div class="cart-product-list-grid d-flex align-items-center m-0" style="border-bottom: none;">
                                    <div class="cart-product-list-image">
                                        <a asp-area="" asp-controller="Shop" asp-action="Details" asp-route-slug="@item.Product.Slug">
                                            <img src="@(Url.Content("~/Uploads/products/" + item.Product.ProductImage))"
                                                 alt="@item.Product.ProductName" class="card-img" style="width: 100px;" />
                                        </a>
                                    </div>
                                    <div class="cart-product-list-details">
                                        <div class="cart-product-tittle">
                                            <a routerLink="/productDetail/{{ item.id }}">
                                                @item.Product.ProductName
                                            </a>
                                        </div>
                                        <div class="cart-product-price">
                                            @String.Format("{0:#,0} VND", item.Product.ProductPrice)
                                        </div>
                                        <div class="cart-quantity-size d-flex align-items-center mt-3">
                                            <div class="cart-quantiy-outer">
                                                <button class="btn_minus m-0 pr-0" onclick="handleMinus(event)">
                                                    <i class="fa-solid fa-minus"></i>
                                                </button>
                                                <input type="number"
                                                        min="0"
                                                        max="99"
                                                        name="quantity"
                                                        value="1"
                                                        class="cart-quantity" />
                                                <button class="btn_plus m-0 pl-0" onclick="handlePlus(event)">
                                                    <i class="fa-solid fa-plus"></i>
                                                </button>
                                            </div>
                                            @* <div class="cart-size">M</div> *@
                                        </div>
                                        <div class="cart-stock-text">@(item.Product.ProductStatus == 1 ? "Còn hàng" : "Hết hàng")</div>
                                    </div>
                                    <div class="cart-product-remove-btn">
                                        <a onclick="return confirm('Are you sure')" asp-controller="Cart" asp-action="Delete" asp-route-id="@item.CartId" style="padding: 6px 0px 5px 10px; cursor: pointer;">
                                            <i class="fa fa-remove"></i>
                                        </a>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-sm-12">
                @* <div class="cart-promo-code">
                    <form action="">
                        <div class="d-flex justify-content-between">
                            <input type="text" name="" placeholder="Enter Promo Code" />
                            <button type="submit">Apply Code</button>
                        </div>
                    </form>
                </div> *@
                <div class="cart-details">
                    <div class="cart-order-heading">Thông tin đơn hàng</div>
                    <div class="cart-order-summary-des text-center">
                        Vận chuyển và thuế được tính khi thanh toán
                    </div>
                    <div class="cart-line"></div>
                    <div class="cart-detail-list text-center mx-4">
                        @foreach(var item in Model)
                        {
                            <div class="row justify-content-between my-3">
                                <div class="col-3 text-left">
                                    <div class="cart-list-text">name:</div>
                                </div>
                                <div class="col-9 text-right">
                                    <div class="cart-list-text font-weight-bold">
                                        @item.Product.ProductName
                                    </div>
                                </div>
                            </div>
                            <div class="row justify-content-between my-3">
                                <div class="col-6 text-left">
                                    <div class="cart-list-text">price:</div>
                                </div>
                                <div class="col-6 text-right">
                                    <div class="cart-list-text">
                                        @String.Format("{0:#,0} VND", item.Product.ProductPrice)
                                    </div>
                                </div>
                            </div>
                            <div class="row justify-content-between my-3">
                                <div class="col-6 text-left">
                                    <div class="cart-list-text">quantity:</div>
                                </div>
                                <div class="col-6 text-right">
                                    <div class="cart-list-text">@item.Quantity</div>
                                </div>
                            </div>
                            <div class="row justify-content-between my-3">
                                <div class="col-6 text-left">
                                    <div class="cart-list-text">Total:</div>
                                </div>
                                <div class="col-6 text-right">
                                    <div class="cart-list-text">
                                        @String.Format("{0:#,0} VND", item.TotalAmount)
                                    </div>
                                </div>
                            </div>
                            <div class="cart-line"></div>
                        }
                    </div>
                    <div class="cart-btn">
                        <a routerLink="/checkout" class="btn1">Thanh toán</a>
                        <a asp-area="" asp-controller="Shop" asp-action="Index" class="btn2">Tiếp tục mua sắm</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}